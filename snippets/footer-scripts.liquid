<!-- Klaviyo - Begin Script-->
<script src="https://a.klaviyo.com/media/js/onsite/onsite.js"></script>  
<script>  
    var klaviyo = klaviyo || [];  
    klaviyo.init({  
      account: "e7aakT",  
      list: 'JzWXSC', 
      platform: "shopify",  
      include_on_tags: 'backinstock'  
    }); 
    klaviyo.enable("backinstock",{  
    trigger: {  
      product_page_text: "Notify Me When Available",  
      product_page_class: "btn btn--primary btn--solid",  
      product_page_text_align: "center",  
      product_page_margin: "10px 0px 0px 0px",  
      replace_anchor: false 
        
    },  
    modal: {  
     headline: "{product_name}",  
     body_content: "Register to receive a notification when this item comes back in stock.",  
     email_field_label: "Email",  
     button_label: "Notify me when available",  
     subscription_success_label: "You're in! We'll let you know when it's back.", 
     footer_content: '',  
     additional_styles: "@import url('https://fonts.googleapis.com/css?family=Gothic+A1');",  
     drop_background_color: "#000", 
     background_color: "#fff",  
     text_color: "#222",  
     button_text_color: "#fff", 
     button_background_color: "#00B5E2",  
     close_button_color: "#ccc",  
     error_background_color: "#fcd6d7", 
     error_text_color: "#C72E2F", 
     success_background_color: "#d3efcd", 
     success_text_color: "#1B9500"  
    } 
  }); 
</script>
<!-- Klaviyo - End Script -->  

<!--Loopt Start-->
<script src="https://unpkg.com/@loophq/onstore-sdk@latest/dist/loop-onstore-sdk.js"></script> 
<script>  
  LoopOnstore.init({  
    key: "735bd68332f0289736e4f120fff92f68135d0c60",  
    attach: ".cart__checkout"   
  }); 
</script>
<!--Loop End-->

<!--Gorgias Chat Widget Start-->
<script id="gorgias-chat-widget-install-v2" src="https://config.gorgias.chat/gorgias-chat-bundle-loader.js?applicationId=3196"></script><!--Gorgias Chat Widget End-->
<style>
  iframe#chat-button {
    z-index: 214748363 !important;
  }
</style>
<script>
    window.GORGIASCHAT_DISABLE_CONTRAST_COLOR = true
</script>

    <!-- And above this comment line ================================================== -->
  <!-- Badge text wrapper: ensures we can nudge text without moving the box -->
<script>
(function() {
  // Wrap the visible text of badge elements in <span class="badge-text">â€¦</span>
  function wrapBadge(el) {
    if (!el || el.nodeType !== 1) return;

    // Don't double-wrap
    if (el.querySelector('.badge-text')) return;

    // Grab trimmed text content; if there's no direct text (e.g., pseudo-only), skip
    var t = (el.textContent || '').trim();
    if (!t) return;

    // Replace current text with a single inner span so we can offset text-only
    var span = document.createElement('span');
    span.className = 'badge-text';
    span.textContent = t;
    el.textContent = '';
    el.appendChild(span);
  }

  // Find all badge elements we care about and wrap their text
  function scan() {
    document.querySelectorAll(
      [
        // Manual badges (e.g., NEW)
        '.badge-box',
        // Auto sale badge you showed
        '.sale-box',
        // Common sale/price badge variants seen in Broadcast & apps
        '.price__badge',
        '.price__badge--sale',
        '.badge--sale',
        '.sale-badge',
        // Fallback: any class that contains both "badge" and "sale" (case-insensitive)
        '[class*="badge"][class*="sale" i]'
      ].join(',')
    ).forEach(wrapBadge);
  }

  // Run on initial load and when Shopify sections/apps inject content
  document.addEventListener('DOMContentLoaded', scan);
  document.addEventListener('shopify:section:load', scan);

  // Watch for dynamically added nodes (app widgets, lazy renders)
  var obs = new MutationObserver(function(muts){
    for (var i = 0; i < muts.length; i++) {
      var m = muts[i];
      if (!m.addedNodes) continue;
      for (var j = 0; j < m.addedNodes.length; j++) {
        var n = m.addedNodes[j];
        if (n.nodeType !== 1) continue; // element nodes only
        // If the added node itself is a badge, wrap it
        if (n.matches && ( n.matches('.badge-box, .sale-box, .price__badge, .price__badge--sale, .badge--sale, .sale-badge, [class*="badge"][class*="sale" i]') )) {
          wrapBadge(n);
        }
        // Also scan any badges inside the added subtree
        if (n.querySelectorAll) {
          n.querySelectorAll('.badge-box, .sale-box, .price__badge, .price__badge--sale, .badge--sale, .sale-badge, [class*="badge"][class*="sale" i]')
            .forEach(wrapBadge);
        }
      }
    }
  });
  obs.observe(document.documentElement, { childList: true, subtree: true });
})();
</script>